import re
def reversePlanes():
    userInput = 'IN\SKETCHUP.GEO'

    file = open(userInput, 'r', encoding='cp1252')
    planeFile = open('planes.txt', 'w')

    planeFile.write('Planes\n')
    reversedPlanes = [ 378,377,376,375,374,373,372,371,370,369,368,367
    ,366,365,364,363,362,361,360,359,358,357,356,355
    ,354,353,351,350,349,348,346,345,343,342,340,339
    ,338,337,336,335,334,331,328,327,326,325,324,322
    ,321,320,319,318,317,316,315,314,313,312,311,310
    ,309,308,307,306,305,304,303,302,301,300,299,297
    ,296,295,294,293,291,290,289,288,286,285,284,283
    ,282,281,280,279,278,277,276,275,274,273,272,271
    ,269,268,267,266,265,264,263,261,260,259,258,257
    ,256,255,254,253,252,251,250,249,248,247,246,245
    ,244,243,242,241,240,239,238,237,236,235,234,233
    ,232,231,230,229,228,227,226,225,224,223,222,221
    ,220,219,218,217,216,215,214,213,212,211,210,209
    ,208,207,206,205,204,203,202,201,200,199,198,197
    ,196,195,194,193,192,191,190,189,188,187,186,185
    ,184,183,182,181,180,179,178,177,176,175,174,173
    ,172,171,170,169,168,167,166,165,164,163,158,156
    ,155,154,153,152,150,149,148,147,146,145,144,143
    ,142,141,140,139,138,137,136,135,134,133,132,131
    ,130,129,128,127,126,125,124,123,104, 91, 90, 89
    , 88, 87, 86, 85, 84, 83, 82, 81, 80, 79, 78, 77
    , 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65
    , 64, 63, 61, 60, 59, 58, 57, 55, 54, 53, 52, 51
    , 49, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14
    , 13, 12, 11, 10,  9,  8,  7,  6,  5,  4,  3,  2
    ,  1]

    count = 1
    
    #print(file)
    for line in file:
        
        if line[0] == '[':
            #nums = [float(s) for s in line.split() if s.isdigit()]
            nums = [int(s) for s in re.findall(r'\b\d+\b',line)]
            planeNumber = nums[0]
            if planeNumber in reversedPlanes:
                points = nums[1::]
                flippedPoints = str(points[::-1])[1:-1]
                planeFile.write('[\t' + str(planeNumber) + ' \ '+ str(flippedPoints) + '\t \ stone ]'+ '\n')
            else:
                planeFile.write(line)
        elif line[0] == ';' and line[1] != '[': 
            planeFile.write(line)
            

    file.close()
    planeFile.close()
reversePlanes()


